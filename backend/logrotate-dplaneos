# D-PlaneOS Log Rotation Configuration
# Version: 1.13.0-FINAL
# 
# Prevents log files from filling up disk space
# Install to: /etc/logrotate.d/dplaneos

# D-PlaneOS Backup Logs
/var/log/dplaneos-backup.log {
    daily
    rotate 7
    compress
    notifempty
    missingok
    copytruncate
    create 644 www-data www-data
}

# D-PlaneOS API Logs
/var/log/dplaneos-api.log {
    daily
    rotate 7
    compress
    notifempty
    missingok
    copytruncate
    create 644 www-data www-data
    maxsize 50M
}

# D-PlaneOS System Logs  
/var/log/dplaneos-system.log {
    daily
    rotate 7
    compress
    notifempty
    missingok
    copytruncate
    create 644 www-data www-data
}

# D-PlaneOS Disk Actions
/var/log/dplaneos-disk-actions.log {
    weekly
    rotate 12
    compress
    notifempty
    missingok
    copytruncate
    create 644 www-data www-data
}

# All D-PlaneOS logs
/var/log/dplaneos/*.log {
    daily
    rotate 7
    compress
    notifempty
    missingok
    copytruncate
}
