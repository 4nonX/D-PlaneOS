<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Setup Wizard - D-PlaneOS</title>
    <!-- Roboto replaced with system fonts for offline operation -->
    <link rel="stylesheet" href="/assets/css/material-symbols-local.css">
    <link rel="stylesheet" href="../assets/css/material-theme.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: var(--md-sys-color-background);
            padding: 48px 24px;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background: var(--md-sys-color-surface);
            border-radius: 16px;
            padding: 32px;
            box-shadow: var(--md-sys-elevation-2);
        }

        h1 {
            font-size: 24px;
            font-weight: 500;
            margin-bottom: 16px;
            color: var(--md-sys-color-on-surface);
        }

        p {
            font-size: 16px;
            color: var(--md-sys-color-on-surface-variant);
            line-height: 1.6;
            margin-bottom: 24px;
        }

        .warning-box {
            background: var(--md-sys-color-error-container);
            color: var(--md-sys-color-on-error-container);
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 24px;
            display: flex;
            align-items: flex-start;
        }

        .warning-box .material-icons {
            margin-right: 12px;
            font-size: 24px;
        }

        .button-group {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }

        .md-button {
            padding: 12px 24px;
            border-radius: 20px;
            border: none;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .md-button.filled {
            background: var(--md-sys-color-error);
            color: var(--md-sys-color-on-error);
        }

        .md-button.outlined {
            background: transparent;
            color: var(--md-sys-color-primary);
            border: 1px solid var(--md-sys-color-outline);
        }

        .md-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Reset Setup Wizard</h1>
        
        <p>
            This will clear the setup completion flag and show the setup wizard again on next page load.
        </p>

        <div class="warning-box">
            <span class="material-icons">warning</span>
            <div>
                <strong style="display: block; margin-bottom: 4px;">Warning</strong>
                This only resets the wizard flag. It does NOT delete your pool, users, or data. 
                If you want to completely reset the system, you need to manually destroy the pool first.
            </div>
        </div>

        <p>
            <strong>Common use cases:</strong>
        </p>
        <ul style="color: var(--md-sys-color-on-surface-variant); line-height: 1.8; margin-bottom: 24px;">
            <li>Testing the setup wizard</li>
            <li>Showing the wizard to new administrators</li>
            <li>Reconfiguring the system from scratch</li>
        </ul>

        <div class="button-group">
            <button class="md-button outlined" onclick="window.history.back()">
                <span class="material-icons">arrow_back</span>
                Cancel
            </button>
            <button class="md-button filled" onclick="resetWizard()">
                <span class="material-icons">refresh</span>
                Reset Wizard
            </button>
        </div>
    </div>

    <script>
        function resetWizard() {
            if (await ui.confirm('Reset Wizard', 'Reset the setup wizard? It will appear again on next page load.')) {
                // Clear localStorage flag
                localStorage.removeItem('dplaneos_setup_completed');
                
                ui.toast('Setup wizard reset. Redirecting...', 'success');
                
                // Redirect to wizard
                window.location.href = '/pages/setup-wizard.html';
            }
        }
    </script>
</body>
</html>
